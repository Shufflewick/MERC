{"id":"MERC-02f","title":"Hire action should draw 3 MERCs and allow picking 0-3","description":"Per rules (06-merc-actions.md lines 29-33): 'Draw top 3 cards from MERC deck, review available MERCs, choose which to hire (may hire 0, 1, 2, or all 3)'. Current regular hire action only draws 1 MERC. Should match the Day 1 behavior of drawing 3 and choosing.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:50:40.328779-06:00","updated_at":"2025-12-14T11:57:28.36676-06:00","closed_at":"2025-12-14T11:57:28.36676-06:00"}
{"id":"MERC-05l","title":"Re-Equip action should select equipment from stash","description":"Per rules 06-merc-actions.md: Re-Equip from stash should let player choose which equipment to take. Current implementation in createReEquipAction takes first item from stash (index 0) instead of letting player select which equipment they want.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:56.224393-06:00","updated_at":"2025-12-14T14:12:18.686387-06:00","closed_at":"2025-12-14T14:12:18.686387-06:00"}
{"id":"MERC-07j","title":"Dictator: Dictator card cannot use actions (train, re-equip) when in play","description":"Per rules (09-the-dictator.md lines 73-79): Once in play, the Dictator card has actions (2 per turn) and can equip equipment. DictatorCard has baseTraining and actionsRemaining, but createDictatorTrainAction, createDictatorReEquipAction, etc. only check hiredMercs, not the dictator card itself. The dictator card's actions are reset each turn but never usable.","notes":"The dictator is supposed to be able to use actions once his dictator card is in play. I'm not sure if this bug is saying he can't right now and that's what needs to be fixed, but he is supposed to be able to.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T15:16:59.636286-06:00","updated_at":"2025-12-14T17:05:04.675484-06:00","closed_at":"2025-12-14T17:05:04.675484-06:00"}
{"id":"MERC-0dp","title":"AI equipment selection rules","description":"Rules (Section 4.7) - AI equipment selection:\n\n**4.7.1** - Equip MERCs in **alphabetical order** (Adelheid before Vandal)\n\n**4.7.2** - Always leave these in the stash:\n- Land Mines\n- Repair Kits\n\n**4.7.3** - Take equipment with the **highest number** (serial field):\n- Highest numbered weapon\n- Highest numbered armor\n- Highest numbered accessory\n\nCurrently no AI equipment selection logic exists.\n\nReference: data/rules/10-dictator-ai.md Section 4.7","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:15.729777-06:00","updated_at":"2025-12-14T18:13:29.408742-06:00","closed_at":"2025-12-14T18:13:29.408742-06:00"}
{"id":"MERC-0m0","title":"4.4.3: Add AI auto-select to reinforce action for sector choice","description":"The reinforce action in actions.ts doesn't have an aiSelect callback for the sector choice. Per rules 4.4.3, AI should place reinforcements on 'Sector closest to a Rebel-controlled sector'. Need to add aiSelect using selectMilitiaPlacementSector(game, sectors, 'dictator').","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:55:29.231414-06:00","updated_at":"2025-12-14T19:00:47.362384-06:00","closed_at":"2025-12-14T19:00:47.362384-06:00"}
{"id":"MERC-0nu","title":"Fix comment: detonateLandMines references wrong rule section","description":"The detonateLandMines function comment says 'Per rules 4.8' but land mine detonation is in section 4.2 ('When Attacked'). Section 4.8 is about healing. Minor documentation fix.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-14T18:29:51.333365-06:00","updated_at":"2025-12-14T18:34:40.762934-06:00","closed_at":"2025-12-14T18:34:40.762934-06:00"}
{"id":"MERC-0q8","title":"AI combat target selection not prioritized","description":"Current: selectTargets() in combat.ts just takes the first N enemies with `aliveEnemies.slice(0, maxTargets)`.\n\nRules (Section 4.6) specify AI should prioritize:\n1. Lowest health + armor (survivability)\n2. If tied, highest number of targets (can attack most enemies)\n3. If tied, highest initiative\n4. If still tied, roll dice\n\nNeed to implement selectAITarget() function that sorts enemies by this criteria.\n\nFile: src/rules/combat.ts, selectTargets() function","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T17:58:35.217001-06:00","updated_at":"2025-12-14T18:13:29.379989-06:00","closed_at":"2025-12-14T18:13:29.379989-06:00"}
{"id":"MERC-16f","title":"Implement Bouba's handgun combat bonus","description":"Per mercs.json, Bouba has ability: '+1 combat when using a handgun.'\n\n- Conditional bonus based on equipped weapon type\n- Only applies when using a handgun\n\nCurrent: Combat stat calculation doesn't check for conditional bonuses based on weapon type.\nNeed: In MercCard's `combat` getter, check if Bouba and if weapon is a handgun, add +1.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-14T19:19:07.420506-06:00","updated_at":"2025-12-14T19:19:07.420506-06:00"}
{"id":"MERC-1e8","title":"isBaseCaptured() missing check for dictator hired MERCs","description":"Per rules 11-victory-and-game-end.md, base is captured when 'all Dictator units (MERCs and militia)' are defeated. The isBaseCaptured() function in game.ts:840-843 only checks for militia and dictator card, but doesn't check if any dictator hired MERCs are still alive at the base sector.\n\nCurrent code:\n```typescript\nconst hasDictatorUnits = baseSector.dictatorMilitia \u003e 0 ||\n  (this.dictatorPlayer.dictator \u0026\u0026 \\!this.dictatorPlayer.dictator.isDead);\n```\n\nShould also check: `this.getDictatorMercsInSector(baseSector).length \u003e 0`","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T19:14:59.366139-06:00","updated_at":"2025-12-14T19:27:35.638618-06:00","closed_at":"2025-12-14T19:27:35.638618-06:00"}
{"id":"MERC-1gl","title":"Re-Equip should cost 1 action, not be free","description":"Per 05-main-game-loop.md: 'Re-Equip (1 action)'. Currently ACTION_COSTS.RE_EQUIP = 0 (free action). Should cost 1 action.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:39.014881-06:00","updated_at":"2025-12-14T00:27:00.012427-06:00","closed_at":"2025-12-14T00:27:00.012427-06:00"}
{"id":"MERC-1gu","title":"AI MERC action priority 3.4: Never split squad when moving","description":"Per rules 3.4: When moving toward Rebels, never split the squad. All MERCs with actions remaining move together. Current implementation doesn't enforce squad cohesion.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:56.836883-06:00","updated_at":"2025-12-14T18:25:04.256642-06:00","closed_at":"2025-12-14T18:25:04.256642-06:00"}
{"id":"MERC-1hb","title":"Split squad during combat not implemented","description":"Per rules (06-merc-actions.md line 248): 'Splitting off a secondary squad (can happen anytime, including combat)' is a free action. Current split squad implementation may not work during combat. Need to allow splitting mid-combat.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:51:02.037217-06:00","updated_at":"2025-12-14T12:13:25.066612-06:00","closed_at":"2025-12-14T12:13:25.066612-06:00"}
{"id":"MERC-1ht","title":"Implement Dictator MERC actions phase","description":"Per 05-main-game-loop.md: 'If the Dictator has any MERCs, each may take 2 actions' including Explore, Re-Equip, Train Militia, Move. Current flow.ts has no dictator MERC action phase. Need to add action step for dictator MERCs after tactics card phase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T00:24:39.307821-06:00","updated_at":"2025-12-14T00:30:24.524992-06:00","closed_at":"2025-12-14T00:30:24.524992-06:00"}
{"id":"MERC-1kq","title":"Add designatePrivacyPlayer action to game flow","description":"The designatePrivacyPlayer action exists in actions.ts but is not included in flow.ts. Per AI Setup rules, one Rebel player must be designated as Privacy Player during setup when AI is enabled. Should be added to Day 1 landing phase before Dictator Phase.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T18:55:29.378512-06:00","updated_at":"2025-12-14T19:00:47.362873-06:00","closed_at":"2025-12-14T19:00:47.362873-06:00"}
{"id":"MERC-1ph","title":"Add AI auto-select to skipMilitiaMove action","description":"The skipMilitiaMove action has no aiSelect logic. When AI mode is active, the system should automatically decide whether to move militia or skip based on tactical value (e.g., skip if no beneficial moves available, militia already optimally positioned).","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-14T19:06:03.960187-06:00","updated_at":"2025-12-14T19:10:26.295306-06:00","closed_at":"2025-12-14T19:10:26.295306-06:00"}
{"id":"MERC-22x","title":"Privacy player designation for AI mode","description":"Rules (AI Setup) - Privacy Player:\n\nDesignate 1 Rebel player to:\n- Take all Dictator actions\n- See hidden information (mine locations, etc.)\n- Make AI decisions impartially\n\nNeed to:\n1. Add privacyPlayer field to AIState\n2. During setup, prompt rebels to designate privacy player\n3. Show hidden info to privacy player only\n4. Privacy player handles AI decision input when needed\n\nReference: data/rules/10-dictator-ai.md Setup section","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:36.020862-06:00","updated_at":"2025-12-14T18:17:30.448256-06:00","closed_at":"2025-12-14T18:17:30.448256-06:00"}
{"id":"MERC-2ay","title":"Castro MERC hiring uses wrong placement logic","description":"Current (dictator-abilities.ts): Castro places hired MERC at base or highest militia sector.\n\nRules (Section 4.3) specify:\n- 4.3.1 - If choice of more than 1, pick **randomly** from top of deck (current picks highest combat)\n- 4.3.2 - New MERC forms squad at Dictator-controlled sector **closest to weakest Rebel sector**\n- 4.3.3 - Always choose a **Weapon** as free equipment\n\nIssues:\n1. MERC selection should be random, not highest combat\n2. Placement should use distance to weakest rebel, not most defended sector\n3. Free equipment selection not implemented","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T17:59:01.810596-06:00","updated_at":"2025-12-14T18:13:29.392208-06:00","closed_at":"2025-12-14T18:13:29.392208-06:00"}
{"id":"MERC-38e","title":"Combat: Armor Piercing weapons not implemented","description":"Per rules 07-combat-system.md line 122: 'Armor Piercing: Some weapons ignore armor entirely.' Need to add armorPiercing property to Equipment and check it in applyDamage function to skip armor and deal damage directly to health.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:22:51.307259-06:00","updated_at":"2025-12-14T14:29:52.997749-06:00","closed_at":"2025-12-14T14:29:52.997749-06:00"}
{"id":"MERC-3b2","title":"Dictator special abilities not mechanically implemented","description":"Per 01-game-elements: Dictators have 'Special Ability: Unique power (in yellow) usable every turn'. Currently DictatorCard stores ability as text but no game logic enforces it. Day 1 calls applyDictatorSetupAbility() but it only logs the ability text. Need to implement actual ability effects for Castro and Kim.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T00:10:56.79204-06:00","updated_at":"2025-12-14T00:17:17.174808-06:00","closed_at":"2025-12-14T00:17:17.174808-06:00"}
{"id":"MERC-3hf","title":"Militia: Dictator train action missing militia cap check","description":"createDictatorTrainAction doesn't check if sector has max militia (10) before allowing training. Rebel train action correctly checks this (line 988). Should check in both condition and filter.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:55:22.010554-06:00","updated_at":"2025-12-14T15:02:09.140127-06:00","closed_at":"2025-12-14T15:02:09.140127-06:00"}
{"id":"MERC-3po","title":"Integrate Repair Kit usage into AI healing","description":"The useRepairKit function exists in ai-helpers.ts but is never called. According to rules 4.7.2, repair kits are left in stash (AI doesn't equip them), but the AI should still be able to use them from the stash to heal MERCs.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T18:39:18.795193-06:00","updated_at":"2025-12-14T18:47:04.719378-06:00","closed_at":"2025-12-14T18:47:04.719378-06:00","dependencies":[{"issue_id":"MERC-3po","depends_on_id":"MERC-5zs","type":"blocks","created_at":"2025-12-14T18:39:25.370265-06:00","created_by":"daemon"}]}
{"id":"MERC-42g","title":"Implement Gunther's flexible equipment slots","description":"Per rules 13-clarifications-and-edge-cases.md, Gunther can use all equipment slots to carry accessories.\n\n- Can equip accessories in the armor slot\n- Can equip accessories in the weapon slot\n- Allows carrying multiple accessories\n\nCurrent: `canEquip()` only checks slot availability, not MERC-specific rules.\nNeed: Modify `canEquip()` and `equip()` in MercCard to handle Gunther's ability.\n\nMERC data shows: ability: 'He can use all equipment slots to carry accessories.'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:30.145678-06:00","updated_at":"2025-12-14T19:27:35.639782-06:00","closed_at":"2025-12-14T19:27:35.639782-06:00"}
{"id":"MERC-4bp","title":"Combat: getValidRetreatSectors missing dictator MERC check","description":"getValidRetreatSectors (combat.ts:205-209) only checks sector.dictatorMilitia and dictator base location, but doesn't check for dictator hired MERCs via getDictatorMercsInSector(). Sectors with dictator MERCs incorrectly appear as valid retreat targets.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:35:41.181181-06:00","updated_at":"2025-12-14T14:39:10.094225-06:00","closed_at":"2025-12-14T14:39:10.094225-06:00"}
{"id":"MERC-4g0","title":"endTurn action should clear remaining MERC actions","description":"Per 05-main-game-loop.md: 'Rebel phase is complete when all Rebel MERCs have used all their actions (or chosen not to)'. The endTurn action just returns success but doesn't clear actionsRemaining. Should set all player's MERC actionsRemaining to 0 so the turn loop exits properly.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:38:05.620229-06:00","updated_at":"2025-12-14T10:51:53.993238-06:00","closed_at":"2025-12-14T10:51:53.993238-06:00"}
{"id":"MERC-4ib","title":"Combat: MERC death should discard card and equipment","description":"Per rules 07-combat-system.md lines 137-141: When a MERC's health reaches 0: '1. The MERC is dead 2. Discard the MERC card 3. Discard all equipped equipment.' Current implementation only tracks damage on the MercCard but doesn't: remove MERC from player's team, discard the MERC card to mercDiscard pile, or discard equipped weapon/armor/accessory to their respective discard piles.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:22:51.163731-06:00","updated_at":"2025-12-14T14:29:53.236721-06:00","closed_at":"2025-12-14T14:29:53.236721-06:00"}
{"id":"MERC-54m","title":"Combat: Stats not updated between rounds when equipment lost","description":"Combatant stats (initiative, combat, targets) are captured once at combat start. When equipment is destroyed mid-combat (armor destroyed, one-use weapon consumed), the combatant's stats don't update for subsequent rounds. Per rules example, Surgeon's initiative changed from -1 to 2 after losing equipment. Stats should be refreshed between rounds or read dynamically from source element.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:35:41.309338-06:00","updated_at":"2025-12-14T14:39:10.361972-06:00","closed_at":"2025-12-14T14:39:10.361972-06:00"}
{"id":"MERC-55b","title":"Dictator: Base location (baseSectorId) is never set when base is revealed","description":"Per rules (09-the-dictator.md lines 38-42): When base is revealed, dictator chooses any Industry they control. The revealBase() function in tactics-effects.ts just sets baseRevealed=true but never prompts dictator to choose location or sets baseSectorId. This breaks: combat at base, base capture win condition, dictator card location.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T15:15:30.62341-06:00","updated_at":"2025-12-14T17:05:04.668587-06:00","closed_at":"2025-12-14T17:05:04.668587-06:00"}
{"id":"MERC-586","title":"Industry sectors should provide extra loot on exploration","description":"Per 01-game-elements: Industry sectors have 'Extra equipment from exploration' as a special ability. The createExploreAction() draws equipment based on loot icons (weaponLoot, armorLoot, accessoryLoot) but doesn't provide any extra bonus for Industry sectors. Need to add industry bonus loot.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:10:57.199549-06:00","updated_at":"2025-12-14T00:13:47.482904-06:00","closed_at":"2025-12-14T00:13:47.482904-06:00"}
{"id":"MERC-594","title":"Integrate Epinephrine Shot auto-save into combat","description":"Per rules 4.9: If a MERC is about to die and any squad member has an Epinephrine Shot, use it. The shouldUseEpinephrine function exists but is never called during combat. Need to hook into combat.ts to auto-save dying MERCs.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:39:18.330271-06:00","updated_at":"2025-12-14T18:45:12.525859-06:00","closed_at":"2025-12-14T18:45:12.525859-06:00"}
{"id":"MERC-5aa","title":"AI Turn Integration: Connect helper functions to game flow","description":"The AI helper functions (getAIMercAction, getSquadAction, etc.) exist but aren't integrated into the game flow to automatically execute during the Dictator's turn. Need to wire up the AI decision system to the turn/phase flow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T18:29:50.995814-06:00","updated_at":"2025-12-14T18:34:40.760826-06:00","closed_at":"2025-12-14T18:34:40.760826-06:00"}
{"id":"MERC-5di","title":"Dictator tactics card effects not implemented","description":"Per 01-game-elements: Dictator Tactics cards have effects that should be executed when played. Currently createPlayTacticsAction() has a TODO comment 'Implement specific card effects based on card.tacticsId' but only moves card to discard. Need to implement effects like Artillery Barrage, Family Threat, Fodder, etc.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T00:10:56.920841-06:00","updated_at":"2025-12-14T00:17:17.175479-06:00","closed_at":"2025-12-14T00:17:17.175479-06:00"}
{"id":"MERC-5f7","title":"Unequip to stash should allow slot selection","description":"Per rules 06-merc-actions.md lines 114-119: Equipment Slots allow unequipping any slot. Current implementation of 'Unequip to stash' option in createReEquipAction only unequips weapon slot. Should allow player to choose which slot (weapon/armor/accessory) to unequip.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:56.352404-06:00","updated_at":"2025-12-14T14:12:18.692734-06:00","closed_at":"2025-12-14T14:12:18.692734-06:00"}
{"id":"MERC-5j2","title":"AI plays tactics cards from top of deck (no hand)","description":"Per rules: AI does not have a hand of Tactics cards, plays cards in order shuffled (top of deck), cannot choose which card to play. Need to enforce this in dictator phase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T18:16:32.348021-06:00","updated_at":"2025-12-14T18:22:18.660858-06:00","closed_at":"2025-12-14T18:22:18.660858-06:00"}
{"id":"MERC-5zs","title":"Integrate AI healing into dictator turn","description":"Per rules 4.8: AI should heal injured MERCs using abilities first, then items. The getAIHealingPriority and getMercsWithHealingAbility functions exist but are never called. Need to add healing check to AI turn flow before other actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:39:18.482677-06:00","updated_at":"2025-12-14T18:45:12.526334-06:00","closed_at":"2025-12-14T18:45:12.526334-06:00"}
{"id":"MERC-60e","title":"Rule 4.12: Re-evaluate movement after mortar fire","description":"Per rules 4.12: 'After firing, re-evaluate movement using Choosing Between Rebel Sectors' - the current selectMortarTarget doesn't trigger movement re-evaluation after firing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:29:50.682754-06:00","updated_at":"2025-12-14T18:35:31.84508-06:00","closed_at":"2025-12-14T18:35:31.84508-06:00","dependencies":[{"issue_id":"MERC-60e","depends_on_id":"MERC-5aa","type":"blocks","created_at":"2025-12-14T18:29:58.049737-06:00","created_by":"daemon"}]}
{"id":"MERC-611","title":"AI militia placement rules by sector type","description":"Rules (Section 4.4) - AI militia placement depends on where the card/ability allows:\n\n**4.4.1 - On Rebel Sectors:**\n→ Use 'Choosing Between Rebel Sectors' (attack weakest)\n\n**4.4.2 - On Neutral Sectors:**\n→ Highest value sector closest to Dictator's base (or other Dictator sector if no base)\n\n**4.4.3 - On Dictator Sectors:**\n→ Sector closest to a Rebel-controlled sector\n\nCurrent Kim ability just places on most defended sector, ignoring these rules.\n\nReference: data/rules/10-dictator-ai.md Section 4.4","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:09.466792-06:00","updated_at":"2025-12-14T18:13:29.398061-06:00","closed_at":"2025-12-14T18:13:29.398061-06:00"}
{"id":"MERC-62m","title":"Combat: Equipment initiative bonuses not applied","description":"Per rules 07-combat-system.md line 43: 'MERCs: Individual Initiative stat (+ equipment bonuses)'. The mercToCombatant function in combat.ts uses merc.initiative directly but doesn't account for equipment that might provide initiative bonuses. Need to check if any equipment provides initiative bonuses and include them.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:23:04.486741-06:00","updated_at":"2025-12-14T14:28:39.588869-06:00","closed_at":"2025-12-14T14:28:39.588869-06:00"}
{"id":"MERC-632","title":"Rule 4.3.1: Random MERC selection when hiring","description":"Per rules 4.3.1: 'If choice of more than 1, pick randomly from top of deck' - need to implement explicit function for random MERC selection when AI has a choice during hiring.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:29:50.530321-06:00","updated_at":"2025-12-14T18:34:40.761951-06:00","closed_at":"2025-12-14T18:34:40.761951-06:00"}
{"id":"MERC-65u","title":"AI always uses MERC special abilities (4.10)","description":"Per rules 4.10: The AI always uses MERC special abilities when appropriate. Need to implement auto-trigger of special abilities.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T18:17:09.698237-06:00","updated_at":"2025-12-14T18:25:04.259868-06:00","closed_at":"2025-12-14T18:25:04.259868-06:00"}
{"id":"MERC-6cu","title":"Explore free re-equip should allow trading without action cost","description":"Per rules 06-merc-actions.md line 110: 'Or trading occurs as part of Explore action'. This means during Explore's free re-equip, trading with teammates should NOT require the trade partner to spend an action. Currently, the explore action only allows equipping from stash, not trading equipment between MERCs during the free re-equip phase.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:16:13.068446-06:00","updated_at":"2025-12-14T14:20:14.70008-06:00","closed_at":"2025-12-14T14:20:14.70008-06:00"}
{"id":"MERC-6kw","title":"AI healing uses MERC abilities first (4.8.1)","description":"Per rules 4.8.1: Use MERC healing abilities first. 4.8.2: Discard combat dice as needed to use Medical Kit or First Aid Kit. Current implementation uses 'repair kit' which may be wrong equipment.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:17:09.389214-06:00","updated_at":"2025-12-14T18:25:04.259078-06:00","closed_at":"2025-12-14T18:25:04.259078-06:00"}
{"id":"MERC-7fy","title":"4.8: Add dedicated dictatorHeal action for AI healing","description":"Rule 4.8 says AI heals injured MERCs using abilities first, then Medical/First Aid Kits. The getAIHealingPriority() function exists but notes 'The actual healing action would need to be added to actions.ts'. A dictatorHeal action should be created that AI can execute when healing is prioritized.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T19:06:04.122807-06:00","updated_at":"2025-12-14T19:10:26.294743-06:00","closed_at":"2025-12-14T19:10:26.294743-06:00"}
{"id":"MERC-7un","title":"Combat: hasEnemies doesn't check for dictator MERCs","description":"The hasEnemies function in combat.ts only checks for dictator militia and the dictator card itself. It should also check for dictator hired MERCs (game.getDictatorMercsInSector). A sector with only dictator MERCs but no militia would incorrectly return false for hasEnemies.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:22:51.450948-06:00","updated_at":"2025-12-14T14:28:39.709382-06:00","closed_at":"2025-12-14T14:28:39.709382-06:00"}
{"id":"MERC-81u","title":"AI MERC action priority 3.1: Explore if not fully equipped","description":"Per rules 3.1: If MERCs aren't fully equipped, explore the sector and equip/re-equip. Current getAIMercActionPriority doesn't check isFullyEquipped before deciding to explore.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:45.293365-06:00","updated_at":"2025-12-14T18:22:18.661526-06:00","closed_at":"2025-12-14T18:22:18.661526-06:00"}
{"id":"MERC-83p","title":"Day 6 game end not checked in isFinished()","description":"Per 05-main-game-loop.md: Game ends after Day 6. The isDayLimitReached() method exists but is not called in isFinished(). Need to add day limit check to game end conditions. Currently the game will run forever past Day 6.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:38:05.206043-06:00","updated_at":"2025-12-14T10:51:53.99267-06:00","closed_at":"2025-12-14T10:51:53.99267-06:00"}
{"id":"MERC-88n","title":"Rebel turn loop should check for actions remaining","description":"Per 05-main-game-loop.md: 'Rebel phase is complete when all Rebel MERCs have used all their actions'. Current rebel-action-loop only checks \\!game.isFinished(). Should also check if player has MERCs with actionsRemaining \u003e 0, otherwise loop waits for endTurn action unnecessarily.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:38:11.440909-06:00","updated_at":"2025-12-14T10:53:11.83999-06:00","closed_at":"2025-12-14T10:53:11.83999-06:00"}
{"id":"MERC-897","title":"AI base location selection uses wrong criteria","description":"Current: revealBase() chooses the industry with most militia (most defended).\n\nRules (Section 4.1) specify this priority order:\n1. **Furthest from Rebels** - Choose Industry as far from rebel forces as possible\n2. **Most Defended** - If tied, choose Industry with most Dictator forces\n3. **Highest Value** - If still tied, choose highest value Industry\n4. **Random** - If still tied, roll dice\n\nThe current implementation skips step 1 entirely. Need to calculate distance from each industry to rebel-controlled sectors.\n\nFile: src/rules/tactics-effects.ts, revealBase() function","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T17:58:29.175688-06:00","updated_at":"2025-12-14T18:13:29.386466-06:00","closed_at":"2025-12-14T18:13:29.386466-06:00"}
{"id":"MERC-8nz","title":"Militia movement should trigger combat","description":"Per 05-main-game-loop.md: 'Combat triggers when: An enemy moves into your sector'. Currently moveMilitia action doesn't check for rebels in destination sector or trigger combat. When dictator moves militia into a rebel-occupied sector, combat should auto-trigger.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:38:05.350456-06:00","updated_at":"2025-12-14T10:53:11.839219-06:00","closed_at":"2025-12-14T10:53:11.839219-06:00"}
{"id":"MERC-8pn","title":"Implement sector images from public/sectors","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:52:54.108776-06:00","updated_at":"2025-12-14T12:16:52.132905-06:00","closed_at":"2025-12-14T12:16:52.132905-06:00"}
{"id":"MERC-90r","title":"Dictator sector control tie-breaking uses wrong comparison","description":"In game.ts getControlledSectors(), the Dictator control check uses '\u003e' (greater than) instead of '\u003e=' (greater or equal). Per 02-game-constants: 'Sector control ties: Dictator wins'. Current code: 'sector.dictatorMilitia \u003e sector.getTotalRebelMilitia()' means dictator does NOT win ties. Should be '\u003e='.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:10:56.662942-06:00","updated_at":"2025-12-14T00:13:47.481758-06:00","closed_at":"2025-12-14T00:13:47.481758-06:00"}
{"id":"MERC-93p","title":"Extra militia solo exception: Skip if 1 Rebel","description":"Per AI Setup rules: 'During setup (unless solo/1 Rebel): AI gets extra militia' - need to verify distributeExtraMilitiaEvenly is skipped when there's only 1 rebel player.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-14T18:29:51.158654-06:00","updated_at":"2025-12-14T18:34:40.762405-06:00","closed_at":"2025-12-14T18:34:40.762405-06:00"}
{"id":"MERC-9m9","title":"Add Dictator mortar attack action","description":"Per rules 4.12: AI always attacks with mortars from adjacent sectors when possible. Helper functions exist (hasMortar, getMortarTargets, selectMortarTarget) but there's no dictatorMortar action defined in actions.ts. Need to create the action and integrate it into the dictator turn flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:39:18.007668-06:00","updated_at":"2025-12-14T18:45:12.525209-06:00","closed_at":"2025-12-14T18:45:12.525209-06:00"}
{"id":"MERC-a2h","title":"Coordinated attacks should support multiple rebel players","description":"Per rules 06-merc-actions.md lines 209-218, the diagram shows squads from DIFFERENT rebel players can attack together (Squad A, Squad B from Rebel 1, AND Squad C from Rebel 2 all attacking simultaneously). Current coordinatedAttack action only supports a single player's two squads attacking together, not cross-player coordination.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:16:12.94092-06:00","updated_at":"2025-12-14T14:20:14.699361-06:00","closed_at":"2025-12-14T14:20:14.699361-06:00"}
{"id":"MERC-a54","title":"Attack action exists but rules say combat triggers via movement only","description":"Per rules (05-main-game-loop.md lines 44-51), available actions are: Hire, Explore, Re-Equip, Train, Move, Hospital, Arms Dealer. 'Attack' is NOT listed. Line 166 says 'Combat triggers when: A squad moves into an enemy-occupied sector'. The 'attack' action in flow.ts and createAttackAction in actions.ts should be removed - combat is automatic on movement.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:58:09.126187-06:00","updated_at":"2025-12-14T11:32:28.010228-06:00","closed_at":"2025-12-14T11:32:28.010228-06:00"}
{"id":"MERC-ang","title":"AI MERC action priority 3.2: Train on undefended Industry","description":"Per rules 3.2: If Squad is on an undefended Industry, all MERCs spend 1 action training militia. Need to detect undefended industry (industry with 0 dictator militia) and prioritize training.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:45.456327-06:00","updated_at":"2025-12-14T18:22:18.662039-06:00","closed_at":"2025-12-14T18:22:18.662039-06:00"}
{"id":"MERC-anr","title":"Victory points calculation missing for end-game determination","description":"Per rules (05-main-game-loop.md line 140-142 and 02-game-constants line 110): When game ends via tactics exhaustion, winner should be determined by victory points (sector values). Current getWinners() says 'For now, rebels win if dictator tactics are exhausted' but should calculate based on controlled sector point values. Dictator wins ties.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:40:58.311397-06:00","updated_at":"2025-12-14T11:54:23.463329-06:00","closed_at":"2025-12-14T11:54:23.463329-06:00"}
{"id":"MERC-asf","title":"Rule 3.4: Move toward CLOSEST rebel, not WEAKEST","description":"Per rules 3.4: 'Move toward the closest Rebel-controlled sector' - but getBestMoveDirection() moves toward WEAKEST rebel. Section 3.4 says closest, while section 4.5 'Choosing Between Rebel Sectors' is about strength. These are different - 3.4 should use distance, 4.5 uses strength.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:29:50.370375-06:00","updated_at":"2025-12-14T18:34:40.761442-06:00","closed_at":"2025-12-14T18:34:40.761442-06:00"}
{"id":"MERC-az8","title":"3.4: getSquadAction function exists but is not used in AI flow","description":"The getSquadAction() function in ai-helpers.ts implements squad cohesion logic per rule 3.4 ('Never split the squad - All MERCs with actions remaining move together'), but getNextAIAction() in ai-executor.ts processes MERCs individually instead of using this squad-level function. The squad cohesion logic should be integrated into the AI decision flow.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T19:06:03.810652-06:00","updated_at":"2025-12-14T19:10:26.293426-06:00","closed_at":"2025-12-14T19:10:26.293426-06:00"}
{"id":"MERC-b39","title":"Rule 3.2: Verify all MERCs train together on undefended industry","description":"Per rules 3.2: 'All MERCs spend 1 action training militia'. The current implementation returns a train decision for one MERC at a time. Verify if the loop handles this correctly or if all MERCs should train in the same iteration.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-14T18:39:18.970027-06:00","updated_at":"2025-12-14T18:48:04.555006-06:00","closed_at":"2025-12-14T18:48:04.555006-06:00"}
{"id":"MERC-b65","title":"AI land mine detonation when attacked","description":"Rules (Section 4.2): When a Rebel attacks a Dictator-controlled sector with an equipment stash:\n- Look at the stash\n- Detonate any **Land Mines** in the stash\n\nThis should trigger automatically when combat begins in a sector where:\n1. Dictator has forces\n2. Sector has a stash with Land Mines\n\nLand mines should deal damage to attacking rebel forces.\n\nReference: data/rules/10-dictator-ai.md Section 4.2","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:58:41.538683-06:00","updated_at":"2025-12-14T18:13:29.403352-06:00","closed_at":"2025-12-14T18:13:29.403352-06:00"}
{"id":"MERC-bd4","title":"Implement Faustina's +1 training action ability","description":"Per mercs.json, Faustina has ability: '+1 action, for training only.'\n\nThis is similar to Ewok's extra action but restricted:\n- Gets an additional action that can ONLY be used for training\n- Base actions remain 2 for other actions\n\nCurrent: No special handling in `resetActions()` or action system.\nNeed: Track training-specific actions separately, or validate action type when Faustina uses her 3rd action.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-14T19:19:07.122528-06:00","updated_at":"2025-12-14T19:19:07.122528-06:00"}
{"id":"MERC-bsm","title":"Reinforce should only allow Dictator-controlled sectors","description":"Per 05-main-game-loop.md: 'Sector must be Dictator-controlled' for reinforcement. Current reinforce action allows any sector with dictator militia, industry, or base. Should use proper control check (dictator militia \u003e= rebel militia).","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:38:05.48532-06:00","updated_at":"2025-12-14T10:51:53.993739-06:00","closed_at":"2025-12-14T10:51:53.993739-06:00"}
{"id":"MERC-c7x","title":"Day 1 hiring should be single action selecting 2 MERCs","description":"Per rules (04-day-one-the-landing.md): Rebels draw 3 MERCs and choose which to hire. Currently implemented as 2 separate action steps (hire-first-merc, hire-second-merc), each selecting 1 MERC. Should be 1 action that draws 3 MERCs and lets player select 2 of them in a single multi-select interface.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:40:45.536654-06:00","updated_at":"2025-12-14T11:48:22.03441-06:00","closed_at":"2025-12-14T11:48:22.03441-06:00"}
{"id":"MERC-cgn","title":"AI extra militia distributed evenly among Industries","description":"Per rules AI Setup: Extra militia during setup should be distributed evenly among Dictator-controlled Industries. Current autoPlaceExtraMilitia uses sector type priority instead of even distribution.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:17:20.94603-06:00","updated_at":"2025-12-14T18:25:56.794604-06:00","closed_at":"2025-12-14T18:25:56.794604-06:00"}
{"id":"MERC-cm0","title":"Implement Haarg's comparative bonus ability","description":"Per rules 13-clarifications-and-edge-cases.md, Haarg gets +1 to any stat where someone else in combat has a higher value.\n\n- Compare to all other units in combat\n- If anyone has higher Initiative → Haarg gets +1 Initiative\n- If anyone has higher Combat → Haarg gets +1 Combat\n- Can get bonuses to multiple stats simultaneously\n- Recalculates each combat round\n\nCurrent: No special handling in combat.ts for this ability.\nNeed: In `mercToCombatant()` or combat round execution, check if MERC is Haarg and apply bonuses based on comparison.\n\nMERC data shows: ability: '+1 to any skill that anyone in his squad has higher than him.'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:30.290183-06:00","updated_at":"2025-12-14T19:27:35.64028-06:00","closed_at":"2025-12-14T19:27:35.64028-06:00"}
{"id":"MERC-cnd","title":"Coordinated attacks not implemented","description":"Per rules (06-merc-actions.md lines 195-218): Multiple squads (from same or different rebels) can attack the same sector simultaneously. All squads declare target, move together, combat with all attackers participating. This is NOT implemented.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:51:01.891733-06:00","updated_at":"2025-12-14T12:13:24.945544-06:00","closed_at":"2025-12-14T12:13:24.945544-06:00"}
{"id":"MERC-dac","title":"Implement Badger's militia initiative override","description":"Per mercs.json, Badger has ability: 'Always has initiative over militia.'\n\nIn combat, Badger should always act before militia regardless of their relative initiative values.\n\nCurrent: Initiative sorting in combat.ts doesn't have special handling for this.\nNeed: In `sortByInitiative()`, check if combatant is Badger and ensure he always sorts above militia.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-14T19:18:55.544745-06:00","updated_at":"2025-12-14T19:27:35.642764-06:00","closed_at":"2025-12-14T19:27:35.642764-06:00"}
{"id":"MERC-dh5","title":"Arms Dealer should include free Re-Equip","description":"Per rules 06-merc-actions.md lines 188-193: Arms Dealer action says 'May then Re-Equip to use it'. This suggests a free re-equip after drawing equipment. Current implementation just adds equipment to stash, requiring a separate Re-Equip action to use it.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:44.213234-06:00","updated_at":"2025-12-14T14:12:18.698209-06:00","closed_at":"2025-12-14T14:12:18.698209-06:00"}
{"id":"MERC-dhv","title":"Combat: Player should choose damage distribution among targets","description":"Per rules 07-combat-system.md lines 108-112: 'If targeting multiple enemies, the attacker chooses how to distribute hits among declared targets.' Example: '4 hits against 2 targets → could do 2 damage to each, or 3 to one and 1 to another.' Current implementation automatically distributes damage to first target until dead, then moves to next. Player should be able to choose distribution.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:22:50.879015-06:00","updated_at":"2025-12-14T14:31:33.945792-06:00","closed_at":"2025-12-14T14:31:33.945792-06:00"}
{"id":"MERC-dol","title":"AI Attack Dog assignment uses target selection rules (4.11)","description":"Per rules 4.11: AI always assigns Attack Dogs using 'Choosing Targets in Combat' rules (4.6). Current code assigns to first valid target instead of using AI priority (lowest health+armor, highest targets, highest initiative).","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:17:20.669355-06:00","updated_at":"2025-12-14T18:25:04.260299-06:00","closed_at":"2025-12-14T18:25:04.260299-06:00"}
{"id":"MERC-dz0","title":"Implement Rizen's multi-target militia ability","description":"Per rules 13-clarifications-and-edge-cases.md, Rizen can target ALL militia in a sector with his attack.\n\n- Normally a MERC can only target 1 militia at a time\n- Rizen can target all militia in the sector (up to 10)\n- Can still add additional targets from weapons\n- Only applies when targeting militia (not MERCs)\n\nCurrent: `selectTargets()` in combat.ts uses `attacker.targets` limit for all MERCs.\nNeed: Check if attacker is Rizen and set unlimited targets when targeting militia.\n\nMERC data shows: ability: 'Regardless of weapon used, each hit counts as a new target when attacking militia.'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:43.466796-06:00","updated_at":"2025-12-14T19:27:35.640703-06:00","closed_at":"2025-12-14T19:27:35.640703-06:00"}
{"id":"MERC-e14","title":"Industry sectors should give bonus equipment on exploration","description":"Per rules (01-game-elements-and-components.md line 99): Industry sectors provide 'Extra equipment from exploration'. Current explore action only draws equipment based on loot icons. Industries should provide additional equipment beyond what loot icons show.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:40:58.443866-06:00","updated_at":"2025-12-14T11:54:56.547921-06:00","closed_at":"2025-12-14T11:54:56.547921-06:00"}
{"id":"MERC-eg2","title":"Rule 3.3: Train militia after arriving at unoccupied Industry","description":"Per rules 3.3: 'If actions remain after arriving, train militia' - the current implementation only returns 'move' action but doesn't chain the follow-up train action after arrival.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:29:50.219929-06:00","updated_at":"2025-12-14T18:35:31.844439-06:00","closed_at":"2025-12-14T18:35:31.844439-06:00","dependencies":[{"issue_id":"MERC-eg2","depends_on_id":"MERC-5aa","type":"blocks","created_at":"2025-12-14T18:29:58.004833-06:00","created_by":"daemon"}]}
{"id":"MERC-eht","title":"Add game end condition: Rebels capture Dictator base","description":"Per 05-main-game-loop.md game ends when: 'Rebels capture the Dictator's base'. Currently isFinished() only checks if dictator is killed, not if base is captured. Need to add base capture as a separate win condition.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:39.733988-06:00","updated_at":"2025-12-14T00:28:53.563686-06:00","closed_at":"2025-12-14T00:28:53.563686-06:00"}
{"id":"MERC-eqe","title":"Sector control ties between rebels not handled","description":"Per rules 06-merc-actions.md lines 139-146: When determining sector control between rebels, 'In ties, control goes to... (the rules don't specify, likely first to claim)'. Current implementation may not handle rebel-vs-rebel ties correctly. Need to clarify rule and implement tie-breaker.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:55.969849-06:00","updated_at":"2025-12-14T14:12:18.709211-06:00","closed_at":"2025-12-14T14:12:18.709211-06:00"}
{"id":"MERC-est","title":"AI MERCs act in Initiative order","description":"Per rules Action Order: MERCs act in Initiative order (highest first), but move together when possible. Current implementation doesn't sort by initiative.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:57.139926-06:00","updated_at":"2025-12-14T18:25:04.257223-06:00","closed_at":"2025-12-14T18:25:04.257223-06:00"}
{"id":"MERC-f0y","title":"Combat: One-use weapons not handled","description":"Per rules 07-combat-system.md line 230: 'Mortar discarded (1-use).' Some weapons are single-use and should be discarded after combat. Current combat system doesn't track or handle one-use equipment being consumed after use.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:23:04.755512-06:00","updated_at":"2025-12-14T14:29:53.118299-06:00","closed_at":"2025-12-14T14:29:53.118299-06:00"}
{"id":"MERC-f5u","title":"AI Action Loop: Re-evaluate from top after each action","description":"Per rules Section 3: 'After each action, start from the top again' - there's no orchestration layer that re-evaluates getAIMercAction() after each action completes. Need an AI turn executor that loops through the priority system.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:29:50.838257-06:00","updated_at":"2025-12-14T18:35:31.845597-06:00","closed_at":"2025-12-14T18:35:31.845597-06:00","dependencies":[{"issue_id":"MERC-f5u","depends_on_id":"MERC-5aa","type":"blocks","created_at":"2025-12-14T18:29:57.959746-06:00","created_by":"daemon"}]}
{"id":"MERC-fhv","title":"Move action should cost 1 action per MERC in squad, not 1 total","description":"Per rules (06-merc-actions.md line 162): 'All MERCs in the squad spend 1 action' when moving. Current implementation may only be spending 1 action from one MERC. All MERCs in the moving squad should each spend 1 action.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:50:51.423017-06:00","updated_at":"2025-12-14T11:56:36.31118-06:00","closed_at":"2025-12-14T11:56:36.31118-06:00"}
{"id":"MERC-fsj","title":"AI MERC action priority 3.5: Train if militia \u003c 10","description":"Per rules 3.5: If sector not at max militia (10), each MERC spends 1 action training militia. Missing from action priority logic.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:56.987256-06:00","updated_at":"2025-12-14T18:22:18.663062-06:00","closed_at":"2025-12-14T18:22:18.663062-06:00"}
{"id":"MERC-gcb","title":"AI mortar targets sector with most targets (4.12)","description":"Per rules 4.12: If multiple sectors available, choose sector with the most targets (not weakest rebel). After firing, re-evaluate movement. Current selectMortarTarget uses weakest rebel logic instead.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:17:20.811246-06:00","updated_at":"2025-12-14T18:25:04.260719-06:00","closed_at":"2025-12-14T18:25:04.260719-06:00"}
{"id":"MERC-geb","title":"Hospital action should check MERC is actually damaged","description":"Per rules (06-merc-actions.md line 277): Hospital action validation should check 'merc.health \u003c 3'. Should not allow using hospital if MERC is already at full health. Need to verify current implementation checks this.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:51:02.182995-06:00","updated_at":"2025-12-14T12:00:06.689859-06:00","closed_at":"2025-12-14T12:00:06.689859-06:00"}
{"id":"MERC-gjw","title":"Explore free re-equip limits to single equipment","description":"Per rules 06-merc-actions.md lines 82-89: After exploring, 'Perform a free Re-Equip'. Current implementation only allows selecting ONE piece of equipment for ONE MERC. The free re-equip should allow full equipment distribution among all MERCs in the squad, not just one item.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:04:09.07143-06:00","updated_at":"2025-12-14T14:12:18.720004-06:00","closed_at":"2025-12-14T14:12:18.720004-06:00"}
{"id":"MERC-gqy","title":"AI healing and saving MERCs","description":"Rules (Sections 4.8, 4.9) - AI healing behavior:\n\n**4.8 - Healing Injured MERCs:**\nIf any MERC in the squad is injured:\n1. Use MERC healing abilities first\n2. Discard combat dice as needed to use Medical Kit or First Aid Kit\n\n**4.9 - Saving Dying MERCs:**\nIf a MERC is about to die and any squad member has an **Epinephrine Shot**:\n→ Use it\n\n**4.10 - MERC Special Abilities:**\nThe AI **always uses** MERC special abilities when appropriate.\n\nCurrently no AI healing/ability logic exists.\n\nReference: data/rules/10-dictator-ai.md Sections 4.8, 4.9, 4.10","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:24.504189-06:00","updated_at":"2025-12-14T18:13:29.419207-06:00","closed_at":"2025-12-14T18:13:29.419207-06:00"}
{"id":"MERC-gs4","title":"delete the concept of gifting milita","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T00:22:18.870052-06:00","updated_at":"2025-12-14T00:27:00.012979-06:00","closed_at":"2025-12-14T00:27:00.012979-06:00"}
{"id":"MERC-gu5","title":"Re-Equip trade requires both MERCs spend action","description":"Per rules 06-merc-actions.md lines 104-110: Trading Requirements state 'Both MERCs must be spending a Re-Equip action'. Current implementation in createReEquipAction only requires one MERC to spend the action - the trade partner receives equipment without spending their action.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:44.073269-06:00","updated_at":"2025-12-14T14:12:18.730961-06:00","closed_at":"2025-12-14T14:12:18.730961-06:00"}
{"id":"MERC-ii8","title":"Re-Equip should support trading between MERCs","description":"Per rules (06-merc-actions.md lines 104-110): Re-Equip allows trading equipment with another MERC in same sector (both must spend action or be exploring). Current implementation only supports taking from stash, not direct trades between MERCs.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:50:51.278866-06:00","updated_at":"2025-12-14T12:01:05.907964-06:00","closed_at":"2025-12-14T12:01:05.907964-06:00"}
{"id":"MERC-ipi","title":"Fire MERC action not implemented","description":"Per rules (06-merc-actions.md lines 57-61): 'During a Hire action, you may also fire a MERC: Drop the MERC equipment into the current sector stash, Discard the MERC card.' This allows players to dismiss MERCs they no longer want.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:50:40.611036-06:00","updated_at":"2025-12-14T11:59:47.828396-06:00","closed_at":"2025-12-14T11:59:47.828396-06:00"}
{"id":"MERC-iqe","title":"Add minimum health validation for MERCs","description":"Per rules 13-clarifications-and-edge-cases.md, there's an ambiguous situation for 'MERC with 0 Health from Start'.\n\nSuggested interpretation: Minimum health is 1, or MERC cannot be hired.\n\nCurrent: No validation that health is \u003e= 1 after equipment/ability modifiers.\nNeed: Add validation when calculating effective health, ensuring minimum is 1.\n\nThis affects the `health` getter in MercCard class (elements.ts).","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-14T19:18:55.24708-06:00","updated_at":"2025-12-14T19:27:35.642349-06:00","closed_at":"2025-12-14T19:27:35.642349-06:00"}
{"id":"MERC-j8r","title":"Newly hired MERCs should start with 0 actions and get 1 free equipment","description":"Per rules (06-merc-actions.md lines 52-55): 'Newly hired MERCs start with 0 actions this turn' and 'Draw 1 equipment from any deck (free)'. Current regular hire action doesn't set actionsRemaining=0 or provide free equipment (only Day 1 does).","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:50:40.472375-06:00","updated_at":"2025-12-14T11:58:22.28761-06:00","closed_at":"2025-12-14T11:58:22.28761-06:00"}
{"id":"MERC-jb5","title":"AI Dictator plays tactics from deck top, no hand","description":"Rules (AI Setup - No Hand):\n\nThe AI Dictator:\n- Does **not** have a hand of Tactics cards\n- Plays cards in the order they are shuffled (top of deck)\n- Cannot choose which card to play\n\nCurrent implementation may give AI a hand of tactics. Need to:\n1. Skip dealing tactics to AI dictator\n2. AI plays tactics directly from deck top\n3. Remove any card selection logic for AI\n\nReference: data/rules/10-dictator-ai.md Setup section","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:43.475832-06:00","updated_at":"2025-12-14T18:17:30.447623-06:00","closed_at":"2025-12-14T18:17:30.447623-06:00"}
{"id":"MERC-jjr","title":"AI saves dying MERCs with Epinephrine Shot (4.9)","description":"Per rules 4.9: If a MERC is about to die and any squad member has an Epinephrine Shot, use it. Not implemented.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T18:17:09.549456-06:00","updated_at":"2025-12-14T18:25:04.259489-06:00","closed_at":"2025-12-14T18:25:04.259489-06:00"}
{"id":"MERC-jxj","title":"Dictator actions incorrectly available to rebels - player type enforcement missing","description":"The dictator player should be the last player in the player list, and rebels should NOT have access to dictator-specific actions like playTactics and reinforce. Current implementation may allow rebels to execute dictator actions. Need to verify action conditions check player type and enforce that dictator-only actions are restricted to the dictator player.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:41:12.319197-06:00","updated_at":"2025-12-14T11:50:08.319293-06:00","closed_at":"2025-12-14T11:50:08.319293-06:00"}
{"id":"MERC-kpv","title":"Combat: Retreat should allow ally-controlled sectors","description":"Per rules line 164: retreat valid to sector 'controlled by you or ally'. getValidRetreatSectors only checks if current player controls sector, not if other allied rebels control it. In multi-player games, sectors controlled by teammates should be valid retreat destinations.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:35:41.442409-06:00","updated_at":"2025-12-14T14:39:10.228884-06:00","closed_at":"2025-12-14T14:39:10.228884-06:00"}
{"id":"MERC-l09","title":"Combat: Attack Dogs equipment not implemented","description":"Attack Dogs are Accessory equipment that should be valid combat targets. Per rules and equipment description: 'Assign to an enemy MERC on your initiative before your attack. Assigned MERC can take no action except to attack the dog. Dog has 3 health.' Implementation needs: 1) Pre-attack action to assign dog to specific enemy MERC, 2) Dogs as combatants with 3 health, 3) Assigned MERC restriction (can only attack dog), 4) Dog death handling (discard accessory). Note: Basic interactive combat (retreat choice) is now implemented.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:35:41.572599-06:00","updated_at":"2025-12-14T14:59:20.151566-06:00","closed_at":"2025-12-14T14:59:20.151566-06:00"}
{"id":"MERC-l1q","title":"New MERC placement should consider squad state","description":"Per rules 06-merc-actions.md lines 44-49: 'If no squads on map: place in any friendly sector. If squads exist: new MERC must join an existing squad.' Current implementation always puts new MERCs in primarySquad. Should validate placement rules more strictly.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:56.099201-06:00","updated_at":"2025-12-14T14:12:18.714623-06:00","closed_at":"2025-12-14T14:12:18.714623-06:00"}
{"id":"MERC-m4k","title":"Implement Doc's free heal ability","description":"Per mercs.json, Doc has ability: 'Heals all MERCs in his squad as a free action outside of combat.'\n\nThis is a powerful ability that should be implemented:\n- Free action (doesn't cost normal action)\n- Only works outside combat\n- Heals ALL MERCs in his squad\n\nCurrent: No special handling for Doc's healing ability.\nNeed: Add a special action or automatic trigger for Doc's squad healing.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:55.396251-06:00","updated_at":"2025-12-14T19:27:35.641948-06:00","closed_at":"2025-12-14T19:27:35.641948-06:00"}
{"id":"MERC-m5g","title":"Sector stash should not be public knowledge","description":"Per rules (01-game-elements-and-components.md line 80-81): 'Sector Stash - Contents are not public knowledge.' Currently sector stash may be visible to all players. Need to implement visibility restrictions so only players with units in sector can see stash contents.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:41:12.044486-06:00","updated_at":"2025-12-14T12:02:16.539661-06:00","closed_at":"2025-12-14T12:02:16.539661-06:00"}
{"id":"MERC-mme","title":"Dictator stays at base after revelation","description":"Per rules 4.1 Post-Revelation: Dictator stays at base (never leaves), takes actions as if a MERC (equip, train, etc.). Need to enforce dictator cannot move from base sector.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:57.284099-06:00","updated_at":"2025-12-14T18:25:04.257686-06:00","closed_at":"2025-12-14T18:25:04.257686-06:00"}
{"id":"MERC-n1f","title":"Implement interactive combat system","description":"Combat currently runs to completion without player input. Per rules, players should: 1) Choose their targets before rolling dice, 2) Distribute hits among declared targets, 3) Choose whether to retreat at end of each round. This requires pausing combat execution and offering action choices.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:31:40.488252-06:00","updated_at":"2025-12-14T14:44:18.707493-06:00","closed_at":"2025-12-14T14:44:18.707493-06:00"}
{"id":"MERC-n69","title":"Combat: Retreat should be player choice not auto-AI","description":"Per rules 07-combat-system.md lines 156-158: 'At the end of any combat round, surviving MERCs may choose to retreat.' Current implementation uses AI logic to auto-decide retreat (shouldConsiderRetreat). Human players should be prompted to choose whether to retreat at end of each round, not have AI decide for them.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:22:51.593422-06:00","updated_at":"2025-12-14T14:31:33.812637-06:00","closed_at":"2025-12-14T14:31:33.812637-06:00"}
{"id":"MERC-nyq","title":"Reset Dictator MERC actions at start of day","description":"Per 05-main-game-loop.md: dictator MERCs also get 2 actions per day. Currently advanceDay() only resets rebel MERC actions, not dictator MERC actions. Need to reset actionsRemaining for dictator MERCs too.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:39.590133-06:00","updated_at":"2025-12-14T00:28:53.56319-06:00","closed_at":"2025-12-14T00:28:53.56319-06:00"}
{"id":"MERC-onm","title":"Integrate MERC special ability auto-activation","description":"Per rules 4.10: AI ALWAYS uses MERC special abilities when appropriate. The shouldUseSpecialAbility and getAIAbilityActivations functions exist but aren't integrated into the AI decision flow. Need to trigger ability usage during AI turn.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T18:39:18.637396-06:00","updated_at":"2025-12-14T18:45:12.526836-06:00","closed_at":"2025-12-14T18:45:12.526836-06:00"}
{"id":"MERC-p3c","title":"Add AI auto-select to moveMilitia action","description":"The moveMilitia action has no aiSelect callbacks for fromSector, toSector, or count. For fully automated AI mode, these need auto-selection: move militia from sectors further from rebels to sectors closer to rebels (rule 4.4.3 for destination).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T18:55:29.524724-06:00","updated_at":"2025-12-14T19:00:47.363294-06:00","closed_at":"2025-12-14T19:00:47.363294-06:00"}
{"id":"MERC-p7u","title":"Dictator MERC location tracking incomplete","description":"The dictator MERC move action in actions.ts (createDictatorMoveAction) finds current sector using baseSectorId, assuming all dictator MERCs are at the base. There's no per-MERC location tracking. Each dictator MERC should have its current sectorId tracked so movement works correctly after they've moved from the base.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:58:09.256827-06:00","updated_at":"2025-12-14T11:35:08.04296-06:00","closed_at":"2025-12-14T11:35:08.04296-06:00"}
{"id":"MERC-pcf","title":"Combat: Dictator MERC movement doesn't trigger combat when entering rebel-occupied sectors","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:49:43.368959-06:00","updated_at":"2025-12-14T14:59:20.150496-06:00","closed_at":"2025-12-14T14:59:20.150496-06:00"}
{"id":"MERC-pd5","title":"Combat: Targets should be declared before rolling dice","description":"Per rules 07-combat-system.md line 86: 'All targets must be declared before rolling.' Current implementation in combat.ts selects targets AFTER rolling dice (selectTargets is called after rollDice). Order should be: declare targets, then roll, then distribute hits to declared targets.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:22:51.021815-06:00","updated_at":"2025-12-14T14:31:25.811411-06:00","closed_at":"2025-12-14T14:31:25.811411-06:00"}
{"id":"MERC-pj8","title":"Add explicit aiSelect to playTactics and reinforce for card choice","description":"While the filter already constrains AI to the top deck card, adding explicit aiSelect callbacks for card selection would make the auto-play more robust and clear. Currently relies on filter having exactly one valid option.","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-14T18:55:29.671687-06:00","updated_at":"2025-12-14T19:00:47.363763-06:00","closed_at":"2025-12-14T19:00:47.363763-06:00"}
{"id":"MERC-pnp","title":"Explore action should include free Re-Equip","description":"Per rules (06-merc-actions.md line 82): 'Perform a free Re-Equip' after exploring. Current explore action draws equipment to stash but player must spend a separate action to equip it. Should allow immediate free equipping of found equipment.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T11:50:51.120451-06:00","updated_at":"2025-12-14T11:56:14.986722-06:00","closed_at":"2025-12-14T11:56:14.986722-06:00"}
{"id":"MERC-pyo","title":"AI always chooses Weapon as free equipment (4.3.3)","description":"Per rules 4.3.3: When AI hires MERC, always choose a Weapon as free equipment. Not implemented - AI doesn't auto-select weapon.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:17:09.251624-06:00","updated_at":"2025-12-14T18:25:04.258148-06:00","closed_at":"2025-12-14T18:25:04.258148-06:00"}
{"id":"MERC-q3j","title":"Fix Dictator phase order: ability after MERC actions, refill at end","description":"Per 05-main-game-loop.md dictator phase order is: 1) Play Tactics/Reinforce, 2) MERC Actions, 3) Special Ability, 4) Refill Hand. Currently flow.ts calls: drawTacticsHand (wrong - should be last), applyDictatorTurnAbilities (wrong - should be after MERC actions), then actions. Fix the phase ordering.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:39.448768-06:00","updated_at":"2025-12-14T00:30:24.525674-06:00","closed_at":"2025-12-14T00:30:24.525674-06:00"}
{"id":"MERC-q4v","title":"Privacy Player designation for AI decisions","description":"Per rules: Designate 1 Rebel player to take all Dictator actions, see hidden info (mine locations, etc.), and make AI decisions impartially. Not implemented.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T18:16:45.14881-06:00","updated_at":"2025-12-14T18:25:04.258651-06:00","closed_at":"2025-12-14T18:25:04.258651-06:00"}
{"id":"MERC-qb1","title":"Implement Ewok's +1 action ability","description":"Per rules 13-clarifications-and-edge-cases.md, Ewok gets 3 actions instead of 2 (other squad members do NOT get extra actions).\n\nCurrent: `resetActions()` always sets `actionsRemaining = BASE_ACTIONS` (2)\nNeed: Check if MERC is Ewok and set `actionsRemaining = 3`\n\nMERC data shows: ability: '+1 action'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:29.992577-06:00","updated_at":"2025-12-14T19:27:35.639281-06:00","closed_at":"2025-12-14T19:27:35.639281-06:00"}
{"id":"MERC-qh6","title":"Rebel strength calculation for AI decisions","description":"Rules (Section 4.5) - Need function to calculate rebel strength in a sector:\n\n```typescript\nfunction calculateRebelStrength(sector: Sector): number {\n  // Sum (health + armor) of all rebel MERCs in sector\n}\n```\n\nUsed for 'Choosing Between Rebel Sectors':\n- 4.5.1 - Choose the **weaker** force\n- 4.5.2 - If tied, roll dice\n\nThis is needed by:\n- AI MERC action priority (attack weakest rebel)\n- AI militia placement (place near weakest rebel)\n- Castro MERC hiring location\n\nReference: data/rules/10-dictator-ai.md Section 4.5","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:58:51.37052-06:00","updated_at":"2025-12-14T18:13:29.373361-06:00","closed_at":"2025-12-14T18:13:29.373361-06:00"}
{"id":"MERC-qux","title":"Hire MERC should cost 2 actions, not 1","description":"Per 05-main-game-loop.md: 'Hire MERCs (2 actions)'. Currently ACTION_COSTS.HIRE_MERC = 1. Should be 2 actions to hire a MERC.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:38.878204-06:00","updated_at":"2025-12-14T00:27:00.011774-06:00","closed_at":"2025-12-14T00:27:00.011774-06:00"}
{"id":"MERC-qzt","title":"AI MERC action priority 3.3: Move to unoccupied Industry","description":"Per rules 3.3: If there is an unoccupied Industry in range, move to it. After arriving, train militia if actions remain. Not implemented.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:16:45.615902-06:00","updated_at":"2025-12-14T18:22:18.662501-06:00","closed_at":"2025-12-14T18:22:18.662501-06:00"}
{"id":"MERC-r2k","title":"Implement Snake's solo bonus ability","description":"Per rules 13-clarifications-and-edge-cases.md, Snake gets +1 to all skills when working alone in his squad.\n\n- Only gets ability if he is the SOLE member of his squad\n- Other squads can exist, but Snake must be alone in his\n- Splitting off into secondary squad triggers ability\n\nCurrent: No special handling for Snake's ability in stat calculations.\nNeed: Modify MercCard stat getters (combat, initiative, training) to check if Snake is alone in squad.\n\nMERC data shows: ability: '+1 to all skills when working alone.'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:43.613802-06:00","updated_at":"2025-12-14T19:27:35.641155-06:00","closed_at":"2025-12-14T19:27:35.641155-06:00"}
{"id":"MERC-rdr","title":"each rebel should select 2 mercs on day 1, not 1","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T00:21:57.262718-06:00","updated_at":"2025-12-14T00:28:53.562422-06:00","closed_at":"2025-12-14T00:28:53.562422-06:00"}
{"id":"MERC-tbq","title":"4.11: Attack Dog target selection should use rule 4.6 priority","description":"In combat.ts assignAttackDog(), line 545 just picks validTargets[0] instead of using sortTargetsByAIPriority(). Per rules 4.11, AI should use 'Choosing Targets in Combat' (4.6) rules: lowest health+armor, most targets, highest initiative.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T18:55:29.089166-06:00","updated_at":"2025-12-14T19:00:47.361712-06:00","closed_at":"2025-12-14T19:00:47.361712-06:00"}
{"id":"MERC-td6","title":"Militia: Kim's setup ability capped at 10 instead of 20","description":"Kim's ability says 'Your base starts revealed with 5 militia per Rebel (max 20)'. applyKimSetupAbility calculates up to 20 militia but addDictatorMilitia() caps at MAX_MILITIA_PER_SIDE (10). Need to either bypass cap for Kim or add a parameter to addDictatorMilitia.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T15:11:20.067506-06:00","updated_at":"2025-12-14T17:05:04.661311-06:00","closed_at":"2025-12-14T17:05:04.661311-06:00"}
{"id":"MERC-ttx","title":"Split squad should work anytime including combat","description":"Per rules 06-merc-actions.md lines 248-249: Free actions include 'Splitting off a secondary squad (can happen anytime, including combat)'. Need to verify split squad can be used during combat flow, not just during normal action phase.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:04:09.19306-06:00","updated_at":"2025-12-14T14:12:18.736009-06:00","closed_at":"2025-12-14T14:12:18.736009-06:00"}
{"id":"MERC-twe","title":"Day 1 equipment: Dictator MERC gets no starting equipment (verify)","description":"Per 04-day-one: 'The Dictator does not get free starting equipment for this MERC.' Currently this works by omission (hireDictatorMerc() doesn't call equipStartingEquipment) but should be explicitly documented in code comment or enforced with a check to prevent accidental equipment assignment.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T00:10:57.066982-06:00","updated_at":"2025-12-14T00:13:47.482363-06:00","closed_at":"2025-12-14T00:13:47.482363-06:00"}
{"id":"MERC-u1b","title":"Movement should trigger automatic combat","description":"Per 05-main-game-loop.md: 'Combat triggers when: A squad moves into an enemy-occupied sector'. Currently the move action just updates position without checking for enemies or triggering combat. Need to check destination for enemies and auto-trigger combat after movement.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T00:24:39.15351-06:00","updated_at":"2025-12-14T00:27:23.395499-06:00","closed_at":"2025-12-14T00:27:23.395499-06:00"}
{"id":"MERC-un4","title":"AI mortar attacks from adjacent sectors","description":"Rules (Section 4.12) - AI mortar behavior:\n\nThe AI **always attacks with mortars** from adjacent sectors when possible.\n\nIf multiple sectors available:\n1. Choose sector with the most targets\n2. After firing, re-evaluate movement using 'Choosing Between Rebel Sectors'\n\nMortars allow attacking from adjacent sectors without entering combat.\n\nReference: data/rules/10-dictator-ai.md Section 4.12","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:59:29.45515-06:00","updated_at":"2025-12-14T18:13:29.424583-06:00","closed_at":"2025-12-14T18:13:29.424583-06:00"}
{"id":"MERC-vbc","title":"AI MERC action priority system (Section 3)","description":"Implement the AI's MERC action priority system from rules section 3:\n\n**Priority order (evaluate top-down, restart after each action):**\n1. 3.1 - If not fully equipped → Explore \u0026 equip/re-equip\n2. 3.2 - If on undefended Industry → Train militia\n3. 3.3 - If unoccupied Industry in range → Move there (train if actions remain)\n4. 3.4 - If Rebel in range → Move toward weakest rebel sector (never split squad)\n5. 3.5 - If sector militia \u003c 10 → Train\n6. 3.6 - Default → Move toward nearest rebel\n\n**Additional rules:**\n- MERCs act in Initiative order (highest first)\n- Move together when possible\n- Reference: data/rules/10-dictator-ai.md Section 3","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:58:19.876047-06:00","updated_at":"2025-12-14T18:13:29.41408-06:00","closed_at":"2025-12-14T18:13:29.41408-06:00"}
{"id":"MERC-vby","title":"Implement MERC card images from public/mercs","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:52:53.977215-06:00","updated_at":"2025-12-14T12:16:52.132146-06:00","closed_at":"2025-12-14T12:16:52.132146-06:00"}
{"id":"MERC-w8n","title":"Re-Equip action should cost 1 action","description":"Per rules (05-main-game-loop.md line 47): 'Re-Equip (1 action)'. The current implementation in actions.ts createReEquipAction() never calls useAction() and doesn't check actionsRemaining. The action should cost 1 action per MERC.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T10:58:08.988705-06:00","updated_at":"2025-12-14T11:31:27.077257-06:00","closed_at":"2025-12-14T11:31:27.077257-06:00"}
{"id":"MERC-wrq","title":"Coordinated Attacks not implemented","description":"Per rules 06-merc-actions.md lines 195-219: Two or more squads may attack the same sector simultaneously. All attacking squads declare the same target sector, all move into sector together, combat begins with all attackers participating. Currently each squad moves independently and triggers combat separately.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:43.940617-06:00","updated_at":"2025-12-14T14:12:18.725522-06:00","closed_at":"2025-12-14T14:12:18.725522-06:00"}
{"id":"MERC-wx0","title":"Equipment damage system missing","description":"Per rules (01-game-elements-and-components.md line 75): 'Damaged equipment cannot be stashed (must be discarded).' No equipment damage tracking exists. Need to implement system for equipment to take damage and be discarded when damaged.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:41:12.18234-06:00","updated_at":"2025-12-14T12:12:08.578502-06:00","closed_at":"2025-12-14T12:12:08.578502-06:00"}
{"id":"MERC-xax","title":"Retreat mechanic not implemented in combat","description":"Per rules (01-game-elements-and-components.md line 216-217): 'All members retreat together. Can split off secondary squad at any time (including during combat).' Combat system has placeholder (retreated: boolean) but always sets it to false. Need to implement retreat opportunity during combat rounds.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T11:40:58.180158-06:00","updated_at":"2025-12-14T12:12:08.577481-06:00","closed_at":"2025-12-14T12:12:08.577481-06:00"}
{"id":"MERC-xj2","title":"Integrate Privacy Player setup into game flow","description":"Per AI Setup rules: 'Designate 1 Rebel player to take all Dictator actions'. The setPrivacyPlayer function exists in ai-helpers.ts but is never called. Need to add a setup action to designate the privacy player and show it in the UI.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T18:39:18.179311-06:00","updated_at":"2025-12-14T18:45:12.527295-06:00","closed_at":"2025-12-14T18:45:12.527295-06:00"}
{"id":"MERC-y4h","title":"Implement Basic's dice reroll ability","description":"Per mercs.json, Basic has ability: 'May reroll all dice once per combat.'\n\n- Can reroll ALL dice from an attack\n- Only once per combat (not per round)\n- Player/AI chooses whether to use it\n\nCurrent: Combat dice rolling in `executeCombatRound()` doesn't support rerolls.\nNeed: After rolling, check if attacker is Basic and offer/auto-use reroll option.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-14T19:19:07.271149-06:00","updated_at":"2025-12-14T19:19:07.271149-06:00"}
{"id":"MERC-yi7","title":"Fire MERC should be available during Hire action","description":"Per rules 06-merc-actions.md lines 57-62: 'During a Hire action, you may also fire a MERC'. Currently fireMerc is a separate standalone action. Per rules, firing should be an optional part of the hire flow - drop equipment to stash, discard MERC card.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-14T14:03:44.647788-06:00","updated_at":"2025-12-14T14:12:18.703589-06:00","closed_at":"2025-12-14T14:12:18.703589-06:00"}
{"id":"MERC-zd5","title":"Implement Vandal's double attack ability","description":"Per rules 13-clarifications-and-edge-cases.md, Vandal fires twice per combat round.\n\n- First shot: Normal initiative position\n- Second shot: After everyone else has fired THIS ROUND\n- Both shots are in the same combat round\n- Can target same or different enemies\n\nCurrent: `executeCombatRound()` processes each combatant once.\nNeed: Track if Vandal is present and give him a second attack at end of round.\n\nMERC data shows: ability: 'Fires a second shot at the end of each round of combat.'","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-14T19:18:43.755717-06:00","updated_at":"2025-12-14T19:27:35.641553-06:00","closed_at":"2025-12-14T19:27:35.641553-06:00"}
