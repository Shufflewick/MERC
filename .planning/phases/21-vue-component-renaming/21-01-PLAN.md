---
phase: 21-vue-component-renaming
plan: 01
type: execute
domain: vue
---

<objective>
Rename MercCard.vue to CombatantCard.vue and update all references.

Purpose: Eliminate naming confusion between model classes and Vue components - the Vue component displays any combatant (merc or dictator), not just mercs.
Output: CombatantCard.vue with all imports and className references updated.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary-template.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/20-model-renaming/20-03-SUMMARY.md

**Key files:**
@src/ui/components/MercCard.vue
@src/ui/components/GameBoard.vue
@src/ui/components/SectorPanel.vue
@src/ui/components/DictatorPanel.vue
@src/ui/components/SquadPanel.vue
@src/ui/components/SectorTile.vue
@src/ui/App.vue
@src/rules/game.ts

**Established patterns:**
- PascalCase for Vue components: GameBoard.vue, SectorPanel.vue
- kebab-case for CSS classes: .merc-card, .sector-tile
- className strings match class registry for BoardSmith serialization
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename MercCard.vue to CombatantCard.vue</name>
  <files>src/ui/components/MercCard.vue → src/ui/components/CombatantCard.vue</files>
  <action>
    1. Rename file: MercCard.vue → CombatantCard.vue
    2. Update internal CSS class: .merc-card → .combatant-card
    3. Update template class binding: class="merc-card" → class="combatant-card"
    4. Update .merc-card.compact → .combatant-card.compact
  </action>
  <verify>File exists at src/ui/components/CombatantCard.vue, grep for "merc-card" returns no matches in that file</verify>
  <done>CombatantCard.vue exists with combatant-card CSS class</done>
</task>

<task type="auto">
  <name>Task 2: Update Vue component imports</name>
  <files>src/ui/components/GameBoard.vue, src/ui/components/SectorPanel.vue, src/ui/components/DictatorPanel.vue, src/ui/components/SquadPanel.vue, src/ui/components/SectorTile.vue</files>
  <action>
    In each file, update:
    1. Import statement: import MercCard from './MercCard.vue' → import CombatantCard from './CombatantCard.vue'
    2. Template usage: <MercCard → <CombatantCard (preserve all props and events)

    Files to update:
    - GameBoard.vue (lines 6, 2293, 2313)
    - SectorPanel.vue (lines 6, 1282, 1459)
    - DictatorPanel.vue (lines 7, 459)
    - SquadPanel.vue (lines 3, 91, 118, 145)
    - SectorTile.vue (lines 6, 256)
  </action>
  <verify>grep "MercCard" in *.vue files returns no matches (except comments if any)</verify>
  <done>All Vue files import and use CombatantCard</done>
</task>

<task type="auto">
  <name>Task 3: Update className string references</name>
  <files>src/ui/components/GameBoard.vue, src/ui/App.vue, src/rules/game.ts</files>
  <action>
    Update className string literals used for BoardSmith element identification:

    1. game.ts line 664: classRegistry.set('MercCard', ...) → classRegistry.set('CombatantCard', ...)
    2. GameBoard.vue: All 'MercCard' className checks → 'CombatantCard'
       - Line 602: className === 'MercCard' → className === 'CombatantCard'
       - Line 618: findAllByClassName('MercCard') → findAllByClassName('CombatantCard')
       - Lines 765, 793: normalizeClassName(c.className) === 'MercCard' → 'CombatantCard'
       - Lines 814, 910: if (className === 'MercCard') → if (className === 'CombatantCard')
    3. App.vue lines 69, 78: normalizeClassName(c.className) === 'MercCard' → 'CombatantCard'
  </action>
  <verify>grep "'MercCard'" in *.ts and *.vue returns no matches</verify>
  <done>All className string references use 'CombatantCard'</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] No grep matches for "MercCard" in src/ui/ (file or import references)
- [ ] No grep matches for "'MercCard'" in src/ (className strings)
- [ ] CombatantCard.vue exists and uses .combatant-card CSS class
</verification>

<success_criteria>

- MercCard.vue renamed to CombatantCard.vue
- All Vue imports updated to CombatantCard
- All className string references updated to 'CombatantCard'
- Build passes
- Phase 21 complete
</success_criteria>

<output>
After completion, create `.planning/phases/21-vue-component-renaming/21-01-SUMMARY.md`
</output>
