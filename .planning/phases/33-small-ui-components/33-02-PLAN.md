---
phase: 33
plan: 02
wave: 1
depends_on: []
files_modified:
  - src/ui/components/LandingZoneSelection.vue (new)
autonomous: true
---

# Plan 02: Create LandingZoneSelection.vue Component

## Objective

Extract the landing zone selection UI from GameBoard.vue into a standalone component. This component displays visual sector cards for edge sectors during the landing phase and emits selection events.

## Context

**Source:** GameBoard.vue
- Landing detection: `isPlacingLanding` from useActionState (line 264-266)
- Edge sector calculation: `landingSectors` computed (lines 674-682)
- Click handler: `handleSectorClick` when `isPlacingLanding.value` (lines 812-849)
- Display prompts: lines 1204-1207

**Requirement:** UI-03 - LandingZoneSelection with sector picker for landing phase

**Reference Pattern:** SectorCardChoice.vue for sector card display

**UX Note:** This component provides card-based selection that complements (not replaces) map clicking. Users can select landing zones via:
1. Clicking sector cards in this component, OR
2. Clicking highlighted sectors directly on the map

Both methods work - the map highlighting remains via `clickableSectors` computed in GameBoard.vue.

## Tasks

<task id="1">
Create `src/ui/components/LandingZoneSelection.vue` with script setup and types:

```typescript
<script setup lang="ts">
import { computed } from 'vue';
import SectorCardChoice from './SectorCardChoice.vue';
import { UI_COLORS } from '../colors';

export interface LandingSector {
  sectorId: string;
  sectorName: string;
  sectorType: string;
  image: string;
  value: number;
  weaponLoot: number;
  armorLoot: number;
  accessoryLoot: number;
  dictatorMilitia: number;
  row: number;
  col: number;
}

const props = defineProps<{
  sectors: LandingSector[];
}>();

const emit = defineEmits<{
  'sector-selected': [sectorId: string];
}>();

// Calculate edge sectors (landing zones)
const edgeSectors = computed(() => {
  if (props.sectors.length === 0) return [];

  const rows = Math.max(...props.sectors.map(s => s.row)) + 1;
  const cols = Math.max(...props.sectors.map(s => s.col)) + 1;

  return props.sectors.filter(s =>
    s.row === 0 || s.row === rows - 1 || s.col === 0 || s.col === cols - 1
  );
});

function handleSectorClick(sector: LandingSector) {
  emit('sector-selected', sector.sectorId);
}
</script>
```
</task>

<task id="2">
Add the template with title, subtitle, and sector cards grid:

```html
<template>
  <div class="landing-zone-selection">
    <div class="landing-header">
      <h2 class="action-title">Choose Landing Zone</h2>
      <p class="action-subtitle">Select an edge sector for your landing</p>
    </div>

    <div class="landing-sectors-grid">
      <SectorCardChoice
        v-for="sector in edgeSectors"
        :key="sector.sectorId"
        :sector="{
          sectorName: sector.sectorName,
          sectorId: sector.sectorId,
          image: sector.image,
          value: sector.value,
          weaponLoot: sector.weaponLoot,
          armorLoot: sector.armorLoot,
          accessoryLoot: sector.accessoryLoot,
          dictatorMilitia: sector.dictatorMilitia,
        }"
        size="compact"
        @click="handleSectorClick(sector)"
      />
    </div>

    <p class="landing-hint" v-if="edgeSectors.length === 0">
      No valid landing zones available
    </p>
  </div>
</template>
```
</task>

<task id="3">
Add scoped styles for the landing zone selection panel:

```css
<style scoped>
.landing-zone-selection {
  padding: 20px;
  background: v-bind('UI_COLORS.backgroundLight');
  border-radius: 12px;
  margin-bottom: 16px;
}

.landing-header {
  text-align: center;
  margin-bottom: 20px;
}

.action-title {
  font-size: 1.3rem;
  color: v-bind('UI_COLORS.accent');
  margin: 0 0 8px 0;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.action-subtitle {
  font-size: 0.95rem;
  color: v-bind('UI_COLORS.textSecondary');
  margin: 0;
}

.landing-sectors-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}

.landing-hint {
  text-align: center;
  color: v-bind('UI_COLORS.textSecondary');
  font-style: italic;
  margin: 16px 0 0 0;
}
</style>
```
</task>

<task id="4">
Verify TypeScript compiles without errors:

```bash
npx tsc --noEmit
```
</task>

## Verification

<verify>
1. File exists at src/ui/components/LandingZoneSelection.vue
2. Component accepts `sectors` prop with full sector data
3. Computes edge sectors internally (row/col boundary check)
4. Uses SectorCardChoice for consistent sector display
5. Emits `sector-selected` with sectorId when clicked
6. Styling matches existing action panel aesthetics
7. TypeScript compiles without errors
</verify>

## Must Haves

- [ ] Component receives all sectors and filters to edge sectors internally
- [ ] Uses SectorCardChoice component for sector card display
- [ ] Shows "Choose Landing Zone" title and subtitle
- [ ] Displays sector cards in a responsive grid layout
- [ ] Emits `sector-selected` event with sectorId string
- [ ] Handles empty state gracefully (no valid landing zones message)
- [ ] Uses compact size for sector cards to fit more on screen
- [ ] Scoped styles using UI_COLORS for consistency
- [ ] Works alongside map clicking (does not replace it)
- [ ] Parent (GameBoard) still highlights clickable sectors on map
