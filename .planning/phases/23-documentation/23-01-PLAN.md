---
phase: 23-documentation
plan: 01
type: execute
---

<objective>
Add CLAUDE.md architecture documentation and JSDoc comments to key classes.

Purpose: Provide future AI assistants and developers with clear codebase navigation and class documentation.
Output: CLAUDE.md file with architecture overview; JSDoc comments on key model classes.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/ARCHITECTURE.md
@.planning/codebase/STRUCTURE.md

# Key files to document:
@src/rules/elements.ts
@src/rules/game.ts

# Prior phase summaries (naming context):
@.planning/phases/20-model-renaming/20-01-SUMMARY.md
@.planning/phases/21-vue-component-renaming/21-01-SUMMARY.md

**Tech stack:** TypeScript, Vue 3, @boardsmith/* framework
**Established patterns:** Class hierarchy CombatantBase -> CombatantModel -> MercCard/DictatorCard
**Key decision:** combatantId/combatantName are canonical identity properties with backward-compat getters
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CLAUDE.md with architecture overview</name>
  <files>CLAUDE.md</files>
  <action>
Create CLAUDE.md in project root with these sections:

1. **Codebase Overview** - Brief description of MERC board game project
2. **Architecture** - Layer summary (Rules → Actions → UI → Data)
3. **Class Hierarchy** - Document the combatant model hierarchy:
   - CombatantBase (abstract) - base identity and combat stats
   - CombatantModel (abstract) - equipment slots, bonuses, effective stats
   - MercCard - MERC units with mercId/mercName
   - DictatorCard - Dictator units with dictatorId/dictatorName
4. **Key Concepts** - Combat system, abilities, equipment effects, state persistence
5. **File Navigation** - Quick reference for where to find things
6. **Important Conventions** - Type guards (isMerc/isDictator), backward-compat aliases

Keep it concise and actionable - this is a reference for AI assistants, not comprehensive documentation.
Draw content from .planning/codebase/ARCHITECTURE.md and STRUCTURE.md but condense it.
  </action>
  <verify>cat CLAUDE.md | head -50</verify>
  <done>CLAUDE.md exists with architecture overview, class hierarchy, and key concepts sections</done>
</task>

<task type="auto">
  <name>Task 2: Add JSDoc comments to key model classes</name>
  <files>src/rules/elements.ts, src/rules/game.ts</files>
  <action>
Add JSDoc comments to these classes (brief, developer-focused):

In elements.ts:
- CombatantBase: Purpose, abstract nature, identity properties
- CombatantModel: Purpose, equipment slots, effective stats
- MercCard: Purpose, relationship to CombatantModel
- DictatorCard: Purpose, relationship to CombatantModel

In game.ts:
- MERCGame: Purpose, key responsibilities
- MERCPlayer: Purpose, role property explanation

Each JSDoc should be 2-4 lines max. Focus on:
- What the class represents
- Key responsibilities
- Important relationships

Do NOT add JSDoc to every property - only the class-level documentation.
Avoid duplicating information that's obvious from the code.
  </action>
  <verify>grep -A 5 "^/\*\*" src/rules/elements.ts | head -30</verify>
  <done>Key classes have JSDoc comments explaining their purpose and relationships</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] CLAUDE.md exists in project root
- [ ] CLAUDE.md has architecture, class hierarchy, and key concepts sections
- [ ] CombatantBase, CombatantModel, MercCard, DictatorCard have JSDoc
- [ ] MERCGame, MERCPlayer have JSDoc
- [ ] `npm run build` succeeds (no syntax errors from comments)
</verification>

<success_criteria>

- Both tasks completed
- CLAUDE.md provides useful navigation for AI assistants
- JSDoc comments are concise and informative
- No build errors introduced
- Phase 23 complete (v1.4 milestone complete)
</success_criteria>

<output>
After completion, create `.planning/phases/23-documentation/23-01-SUMMARY.md`:

# Phase 23 Plan 01: Documentation Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `CLAUDE.md` - Description
- `src/rules/elements.ts` - Description
- `src/rules/game.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase complete, v1.4 milestone complete, ready for release or next milestone
</output>
